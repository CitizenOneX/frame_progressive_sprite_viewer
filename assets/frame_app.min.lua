local a=require('data.min')local b=require('battery.min')local c=require('code.min')local d=require('sprite.min')USER_SPRITE=0x20;CLEAR_MSG=0x10;a.parsers[USER_SPRITE]=d.parse_sprite;a.parsers[CLEAR_MSG]=c.parse_code;function app_loop()frame.display.text(" ",1,1)frame.display.show()local e=0;while true do local f=a.process_raw_items()if f>0 then if a.app_data[USER_SPRITE]~=nil then local g=a.app_data[USER_SPRITE]frame.display.bitmap(1,1,g.width,2^g.bpp,0,g.pixel_data)frame.display.show()a.app_data[USER_SPRITE]=nil end;if a.app_data[CLEAR_MSG]~=nil then frame.display.text(" ",1,1)frame.display.show()a.app_data[CLEAR_MSG]=nil end end;e=b.send_batt_if_elapsed(e,120)frame.sleep(0.1)end end;app_loop()